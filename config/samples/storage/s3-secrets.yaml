---
apiVersion: gobackup.io/v1
kind: Storage
metadata:
  name: s3-secrets
  namespace: default
spec:
  type: s3
  config:
    bucket: my-backup-bucket
    region: us-east-1
    path: backups/myapp
    # Using SecretRef instead of direct credentials
    access_key_id_ref:
      name: storage-credentials
      key: s3-access-key-id
    secret_access_key_ref:
      name: storage-credentials
      key: s3-secret-access-key
    storage_class: STANDARD_IA
    keep: 30
    timeout: 600
